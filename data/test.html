<div class="cloud-blog-detail-left" style="float:left;display:inline-block">


    <!-- 页签PC&mb start -->
    <div class="cloud-blog-detail-crumbs pc_current">
        <a href="https://bbs.huaweicloud.com" target="_blank" rel="noopener noreferrer">云社区</a>
        <a href="https://bbs.huaweicloud.com/blogs" target="_blank" rel="noopener noreferrer">博客</a>
        <span class="current">博客详情</span>
    </div>
    <!-- 页签PC&mb end -->

    <!-- 博客标题 -->
    <h1 class="cloud-blog-detail-title">mysql 双1设置</h1>

    <!-- 博主博客信息PC&mb start -->
    <div class="common-blog-icons  common-blog-icons-cloud-blog">

        <i class="icon-v-mb-S"></i>




        <div class="m-author-min-head pc_current ">
            <a href="/community/usersnew/id_1585800252205566" class="author-min-head" target="_blank" rel="noopener noreferrer">

                <img id="headImg" class="authorImg currentImg" path="1595473563384_1925_4872.png" src="https://bbs-img.huaweicloud.com/user/img/head/1595473563384_1925_4872.png">

            </a>
            <span>
            <i class="bufer">
                <a class="sub-content-username " href="/community/usersnew/id_1585800252205566" target="_blank" rel="noopener noreferrer">snowofsummer</a>
            </i>
        </span>
            <span class="article-write-time"> 发表于 2021-02-04 09:24:40</span>
            <span class="phone-article-write-time">2021-02-04</span>
        </div>

        <div class="m-blog-view-info">
            <div class="common-blog-eye new-blogs-icon"></div>
            <span id="viewNum" data-count="">9</span>

            <div class="common-blog-bubbling new-blogs-icon"></div>
            <span class="commentTotalCounts" data-count="0">0</span>

            <div class="common-blog-praise new-blogs-icon"></div>
            <span data-count="0">0</span>

        </div>

        <div id="edit_delete"></div>

    </div>
    <!-- 博主博客信息PC&mb end -->

    <!-- 博客标签 start -->
    <div class="blog-menu-footer m-blog-menu-footer-top">

        <a class="common-blog-menu-btn" target="_blank" rel="noopener noreferrer" mate_data_ts="bbs_blogdetail_blogTag.click.toptag_MySQL_Blog" title="MySQL" href="https://developer.huaweicloud.com/tags/200464/blog_1">MySQL</a>

    </div>
    <!-- 博客标签 end -->

    <hr class="cloud-blog-detail-line">

    <!-- 博客摘要 start -->
    <div class="cloud-blog-detail-summary">
        <div class="cloud-blog-detail-summary-tag">【摘要】 双1设置：（适合数据安全性要求非常高，而且磁盘IO写能力足够支持业务(磁盘为 PCIE SSD)）sync_binlog、innodb_flush_log_at_trx_commit 这两个参数都要设置为1。// mysqld 服务崩溃或者服务器主机 crash 的情况下，binary log 只有可能丢失最多一个语句或者一个事务。sync_binlog该参数表示事务写入 binary lo...</div>
    </div>
    <!-- 博客摘要 end -->

    <!-- 博客正文内容 start -->
    <div class="cloud-blog-detail-content-wrap slidedown">
        <div class="cloud-blog-detail-content blog-content-block-0" id="blogContent">
            <p>双1设置：（<span style="color: #4d4d4d;">适合数据安全性要求非常高，而且磁盘IO写能力足够支持业务(磁盘为 PCIE SSD)</span>）</p>
            <p><span style="color: #4d4d4d;"> sync_binlog、innodb_flush_log_at_trx_commit 这两个参数都要设置为1。</span></p>
            <p><span style="color: #4d4d4d;"><span>// mysqld 服务崩溃或者服务器主机 crash 的情况下，binary log 只有可能丢失最多一个语句或者一个事务。</span></span></p>
            <h1 style="color: #4f4f4f;">sync_binlog</h1>
            <p>该参数表示事务写入 binary log 并使用 fdatasync() 函数同步到磁盘的过程。<br>取值为0：mysql 自己不主动同步，依赖操作系统本身不定期把文件内容刷新到磁盘。性能最佳</p>
            <p>取值为1：每次事务提交后将 binlog_cache 中的数据强制写入磁盘 bin log日志中，是最慢的，但是最安全</p>
            <p>取值 &gt;1：当进行n次事务提交后，mysql 将 binlog_cache 中的数据强制写入磁盘中。</p>
            <h1 style="color: #4f4f4f;">innodb_flush_log_at_trx_commit</h1>
            <p style="color: #4d4d4d;">该参数表示 log buffer 写入 log file 以及刷新到磁盘的过程。<br>取值为0：log buffer 每秒写入日志文件 log file 并刷新 flush 到磁盘。这种情况下，mysql 的日志刷写操作和事务提交操作没有关系。因此 mysql 的性能是最好的时刻。不过不安全</p>
            <p style="color: #4d4d4d;">取值为1：每次事务提交时，log buffer 会被写入到日志文件并且还要刷写到磁盘上。由于每次事务都要提交到I/O设备，因此会慢一点，不过是最安全的。</p>
            <p style="color: #4d4d4d;">取值为2：0和1的中间效果，即每次的事务提交会写入 log buffer，而刷写到磁盘则是一秒进行一次。性能属于一般。</p>
            <p><img class="mce_image" id="images_16124018733549" src="https://bbs-img.huaweicloud.com/blogs/img/1612401876569015643.png"></p>
            <p><span style="color: #4d4d4d;"></span></p>
            <p><span style="color: #4d4d4d;"></span></p>
        </div>


        <p class="pc_current ask-tip" style="display: none;">登录后可下载附件，请<a href="https://auth.huaweicloud.com/authui/login?service=https://bbs.huaweicloud.com/blogs/241457#attachment&amp;locale=zh-cn">登录</a>或者<a href="https://reg.huaweicloud.com/registerui/public/custom/register.html?locale=zh-cn&amp;service=https://bbs.huaweicloud.com#/register">注册</a></p>

        <!-- 版权声明 start -->

        <div class="cloud-blog-detail-copyrights" style="clear: both;">【版权声明】本文为华为云社区用户原创内容，转载时必须标注文章的来源（华为云社区），文章链接，文章作者等基本信息，否则作者和本社区有权追究责任。如果您发现本社区中有涉嫌抄袭的内容，欢迎发送邮件至：<a class="mail-contact-address" href="mailto:huaweicloud.bbs@huawei.com">huaweicloud.bbs@huawei.com</a>进行举报，并提供相关证据，一经查实，本社区将立刻删除涉嫌侵权内容。</div>

        <!-- 版权声明 end -->

        <div class="blog-menu-footer m-blog-menu-footer-bottom">

            <a class="common-blog-menu-btn title_banner_7" target="_self" rel="noopener noreferrer" mate_data_ts="bbs_blogdetail_blogTag.click.MySQL_Blog" title="MySQL" href="https://developer.huaweicloud.com/tags/200464/blog_1">MySQL</a>

        </div>
    </div>
    <!-- 博客正文内容 end -->

    <div class="blog-detail-content-btn" style="display: none;">
        <a href="javascript:void(0)">展开全部内容</a>
        <span class="arrowdown"></span>
    </div>


    <div class="cloud-blog-detail-comment-like-btn">

        <a class="cloud-blog-detail-comment-btn" href="#comment-textarea" rel="nofollow">评论文章</a>

        //点赞 收藏
        <a id="isVote" class="click-vote cloud-blog-praise-btn " mate_data_ts="bbs_blogdetail_like.click.mysql 双1设置"><i class="praise-icon new-blogs-icon voteAddBtn praise-toggle"></i><span id="voteNum" class="">0</span><div class="blog-tips cloud-blog-praise-tips">点赞</div></a>
        <a id="isLike" class="cloud-blog-detail-like-btn " mate_data_ts="bbs_blogdetail_collect.click.mysql 双1设置"><i class="like-icon new-blogs-icon like-toggle"></i><span id="likeNum" class="">0</span><div class="blog-tips cloud-blog-like-tips">收藏</div></a>

        <div class="hover-box" style="position:relative;">
            <a class="cloud-blog-detail-link fr" mate_data_ts="bbs_blogDetail_share.click.link_mysql 双1设置" href="javascript:void(0);">
                <i class="link-icon new-blogs-icon"></i>
            </a>
            <div class="cloud-blog-detail-link-hover">
                <div class="cloud-blog-detail-link-click-text"><i class="copy-link-success new-blogs-icon"></i>链接复制成功</div>
                <div class="cloud-blog-detail-link-hover-text">复制链接到剪贴板</div>
            </div>
            <a class="cloud-blog-detail-microBlog fr" mate_data_ts="bbs_blogDetail_share.click.weibo_mysql 双1设置" href="http://service.weibo.com/share/share.php?title=mysql 双1设置&nbsp;mysql 双1设置双1设置：（适合数据安全性要求非常高，而且磁盘IO写能力足够支持业务(磁盘为 PCIE SSD)）sync_binlog、innodb_flush_log_at_trx_commit 这两个参数都要设置为1。// mysqld 服务崩溃或者服务器主机 crash 的情况下，binary log 只有可能丢失最多一个语句或者一个事务。sync_binlog该参数表示事务写入 binary lo...&amp;url=https://bbs.huaweicloud.com/blog/241457" target="_blank" rel="noopener noreferrer">
                <i class="microBlog-icon new-blogs-icon"></i>
            </a>
            <div class="cloud-blog-detail-microBlog-hover">
                <div class="cloud-blog-detail-microBlog-hover-text">分享文章到微博</div>
            </div>
            <a class="cloud-blog-detail-weChat fr">
                <i class="weChat-icon new-blogs-icon"></i>
            </a>
            <div class="cloud-blog-detail-weChat-hover">
                <div class="cloud-blog-detail-weChat-hover-text">分享文章到朋友圈</div>
                <div class="cloud-blog-detail-weChat-hover-code" id="qrwechat">
                    <canvas width="100" height="100"></canvas></div>
            </div>
            <a class="cloud-blog-detail-share fr">
                <i class="share-icon new-blogs-icon"></i>
                <span class="cloud-blog-detail-share-text">分享</span>
            </a>
        </div>
    </div>



    <!-- begin 上一篇 下一篇 -->

    <div id="preNextArticle" class="cloud-blog-detail-pre-next-article cloud-blog-detail-relation-article">

        <p>
            <a id="blog_prev_title" title="move datafile online" href="/blogs/240591" class="cloud-blog-detail-pre-article">
                <span>上一篇：move datafile online</span>
            </a>
        </p>


        <p>
            <a id="blog_next_title" title="mysql 查看执行计划" href="/blogs/241461" class="cloud-blog-detail-pre-article">
                <span>下一篇：mysql 查看执行计划</span>
            </a>
        </p>

    </div>

    <!-- end 上一篇 下一篇 -->

    <!-- 移动端begin 相关文章 -->
    <h3 id="relateAritcleTitle" class="cloud-blog-detail-section-title" hidden="">相关文章</h3>
    <div id="relateAritcleDom" class="cloud-blog-detail-relation-article" hidden=""></div>

    <!-- end 相关文章 -->

    <!-- 评论tpl -->

    <div class="comment-block">



        <h3 class="cloud-blog-detail-section-title" id="comment" data-delete-localpage-num="0">评论 <span style="display:inline-block;">(</span><span id="commentTotalCount" class="commentTotalCount" style="display:inline-block;">0</span><span style="display:inline-block">)</span></h3>
        <hr class="cloud-blog-detail-line">

        <!--用户登录评论状态 start-->

        <div class="cloud-blog-detail-comment-section">

            <div id="comment-level-one">
                <!--一级评论 start-->


                <div class="blog-a879df4ea9dc4768ade6529ef3d6cc08" data-levelone-total="0" data-del-total="0">

                </div>

                <div id="comment-textarea"></div>


            </div>

            <!--博客评论编辑区 start-->
            <div id="comment-edit">
                <div class="comment-edit" style="margin-top:15px; clear:both; " hidden="">
                    <div class="detail-commenter-reply-comment">
                        <textarea style="height: 32px;" data-btns-wrap="btns-wrap-edit" data-height="84" data-real-height="80" data-textarea="textarea-edit" class="textarea-edit textarea-comment" id="textarea-comment-edit" placeholder="请输入评论"></textarea>
                        <div class="length-block"><span class="length-textarea-xx "><span class="statistics">0</span>/1000</span><div></div></div>
                        <div class="btns-wrap-edit">
                            <a data-comment-id="comment-xx" data-textarea="textarea-edit" data-btns-wrap="btns-wrap-edit" class="comment-section-comment-btn comment-section-cancel-btn comment-edit-reset">取消</a>
                            <a data-comment-id="comment-xx" data-textarea="textarea-edit" class="comment-section-comment-btn comment-edit-submit">更新评论</a>
                        </div>
                    </div>
                </div>
            </div>


            <div class="pc_current">

                <!--如果允许评论/博客评论区 start -->
                <div class="my-talking" hidden="" style="display: block;">
                    <textarea style="height: 80px; width:100%;" data-height="84" data-real-height="80" data-textarea="textarea-a879df4ea9dc4768ade6529ef3d6cc08" class="textarea-a879df4ea9dc4768ade6529ef3d6cc08 textarea-comment comment-section-input" id="textarea-comment-blog" placeholder="请输入评论"></textarea>
                    <div class="length-block"><span class="length-textarea-a879df4ea9dc4768ade6529ef3d6cc08 "><span class="statistics">0</span>/1000</span><div></div></div>
                    <a data-blog-id="a879df4ea9dc4768ade6529ef3d6cc08" data-status="1" data-comment-level="1" data-textarea="textarea-a879df4ea9dc4768ade6529ef3d6cc08" class="comment-section-comment-btn omment-btn-disbled btn-submit-comment" mate_data_ts="bbs_blogdetail_comment.click.mysql 双1设置">评论</a>
                </div>
                <!--如果允许评论/博客评论区 end -->

                <!--用户未登录评论状态 start-->
                <div class="cloud-blog-detail-comment-section ask-tip unlisted" style="display: none;">
                    <p>登录后可评论，请 <a href="https://auth.huaweicloud.com/authui/login?service=https://bbs.huaweicloud.com/blogs/a879df4ea9dc4768ade6529ef3d6cc08&amp;locale=zh-cn">登录</a> 或 <a href="https://reg.huaweicloud.com/registerui/public/custom/register.html?locale=zh-cn&amp;service=https://bbs.huaweicloud.com#/register">注册</a></p>
                    <a class="comment-section-comment-btn omment-btn-disbled">评论</a>
                </div>

                <div class="cloud-blog-detail-comment-section blog-limit" hidden="" style="display: none;">
                    <p>您没有权限执行当前操作</p>
                </div>

            </div>



            <!-- </div> -->
        </div>
    </div>

    <!-- 评论tpl -->




</div>